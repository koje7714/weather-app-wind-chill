<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wind Chill & Dew Point Calculator</title>
  <style>
    :root {
      color-scheme: light dark;
      font-family: Arial, Helvetica, sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: linear-gradient(160deg, #1f2937, #0f172a);
    }

    .card {
      width: min(92vw, 460px);
      padding: 1.5rem;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.92);
      color: #111827;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
    }

    h1 {
      margin-top: 0;
      font-size: 1.4rem;
    }

    .row {
      margin-bottom: 1rem;
    }

    label {
      display: block;
      margin-bottom: 0.3rem;
      font-weight: 600;
    }

    input {
      width: 100%;
      padding: 0.55rem 0.65rem;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 1rem;
      box-sizing: border-box;
    }

    button {
      width: 100%;
      border: none;
      border-radius: 8px;
      background: #2563eb;
      color: #fff;
      font-weight: 700;
      font-size: 1rem;
      padding: 0.7rem;
      cursor: pointer;
    }

    .results {
      margin-top: 1rem;
      padding: 0.85rem;
      border-radius: 8px;
      background: #f3f4f6;
      line-height: 1.6;
    }

    .note {
      font-size: 0.9rem;
      color: #374151;
      margin-top: 0.75rem;
    }
  </style>
</head>
<body>
  <main class="card">
    <h1>Wind Chill & Dew Point (Metric)</h1>

    <div class="row">
      <label for="temperature">Air Temperature (°C)</label>
      <input id="temperature" type="number" step="0.1" value="5" />
    </div>

    <div class="row">
      <label for="humidity">Relative Humidity (%)</label>
      <input id="humidity" type="number" step="1" min="1" max="100" value="70" />
    </div>

    <div class="row">
      <label for="wind">Wind Speed (m/s)</label>
      <input id="wind" type="number" step="0.1" min="0" value="6" />
    </div>

    <button id="calculate" type="button">Calculate</button>

    <section class="results" id="results" aria-live="polite">
      Enter values and press Calculate.
    </section>

    <p class="note">Uses Celsius and m/s, and calculates dew point instead of heat index.</p>
  </main>

  <script>
    const tempInput = document.getElementById('temperature');
    const humidityInput = document.getElementById('humidity');
    const windInput = document.getElementById('wind');
    const output = document.getElementById('results');

    function calculateWindChillCelsius(tempC, windMs) {
      const windKmh = windMs * 3.6;
      if (windKmh < 4.8 || tempC > 10) {
        return tempC;
      }
      return 13.12 + 0.6215 * tempC - 11.37 * Math.pow(windKmh, 0.16) + 0.3965 * tempC * Math.pow(windKmh, 0.16);
    }

    function calculateDewPointCelsius(tempC, humidityPercent) {
      const a = 17.27;
      const b = 237.7;
      const alpha = (a * tempC) / (b + tempC) + Math.log(humidityPercent / 100);
      return (b * alpha) / (a - alpha);
    }

    document.getElementById('calculate').addEventListener('click', () => {
      const tempC = Number.parseFloat(tempInput.value);
      const humidity = Number.parseFloat(humidityInput.value);
      const windMs = Number.parseFloat(windInput.value);

      if (Number.isNaN(tempC) || Number.isNaN(humidity) || Number.isNaN(windMs)) {
        output.textContent = 'Please enter valid numeric values.';
        return;
      }

      if (humidity <= 0 || humidity > 100) {
        output.textContent = 'Humidity must be between 1 and 100%.';
        return;
      }

      if (windMs < 0) {
        output.textContent = 'Wind speed cannot be negative.';
        return;
      }

      const windChill = calculateWindChillCelsius(tempC, windMs);
      const dewPoint = calculateDewPointCelsius(tempC, humidity);

      output.innerHTML = `
        <strong>Wind Chill:</strong> ${windChill.toFixed(1)} °C<br>
        <strong>Dew Point:</strong> ${dewPoint.toFixed(1)} °C
      `;
    });
  </script>
</body>
</html>
